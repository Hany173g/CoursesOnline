<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title><%= user.name %></title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#1d4ed8',
          }
        }
      }
    }
  </script>
</head>
<body class="bg-gray-100 font-sans">

  <!-- ✅ Cover -->
  <div class="relative h-60 bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1503264116251-35a269479413');">
    <!-- ✅ صورة البروفايل -->
    <div class="absolute left-1/2 transform -translate-x-1/2 bottom-[-50px]">
      <img src="/<%= user.img %>" alt="Profile"
           class="w-32 h-32 rounded-full border-4 border-white object-cover shadow-md" 
           onerror="this.onerror=null; this.src='/profile.jpeg';">
    </div>
  </div>

  <div class="mt-20 text-center px-4 relative">
    <h1 class="text-2xl font-bold flex items-center justify-center gap-2">
      <%= user.name %>
      <a href="/settings" class="text-gray-500 hover:text-blue-600" title="الإعدادات">
        <!-- ترس -->
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" class="w-6 h-6">
          <path stroke-linecap="round" stroke-linejoin="round"
            d="M11.25 3.75c.443 0 .81.32.873.75l.083.75a8.005 8.005 0 0 1 2.21.919l.654-.654a.876.876 0 0 1 1.237 0l1.5 1.5a.876.876 0 0 1 0 1.237l-.654.654a8.005 8.005 0 0 1 .919 2.21l.75.083a.876.876 0 0 1 .75.873v2.25a.876.876 0 0 1-.75.873l-.75.083a8.005 8.005 0 0 1-.919 2.21l.654.654a.876.876 0 0 1 0 1.237l-1.5 1.5a.876.876 0 0 1-1.237 0l-.654-.654a8.005 8.005 0 0 1-2.21.919l-.083.75a.876.876 0 0 1-.873.75h-2.25a.876.876 0 0 1-.873-.75l-.083-.75a8.005 8.005 0 0 1-2.21-.919l-.654.654a.876.876 0 0 1-1.237 0l-1.5-1.5a.876.876 0 0 1 0-1.237l.654-.654a8.005 8.005 0 0 1-.919-2.21l-.75-.083A.876.876 0 0 1 3.75 14.25v-2.25c0-.443.32-.81.75-.873l.75-.083a8.005 8.005 0 0 1 .919-2.21l-.654-.654a.876.876 0 0 1 0-1.237l1.5-1.5a.876.876 0 0 1 1.237 0l.654.654a8.005 8.005 0 0 1 2.21-.919l.083-.75c.063-.43.43-.75.873-.75h2.25z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0z" />
        </svg>
      </a>
    </h1>
    <p class="text-gray-600 mt-1">مبرمج | عاشق لتطوير الويب | <%= user.access %></p>

    <!-- ✅ الإحصائيات -->
    <div class="flex justify-center gap-8 mt-6">
      <div>
        <p class="text-xl font-bold"><%= courses.length%></p>
        <p class="text-gray-500 text-sm">كورسات</p>
      </div>
      <div>
        <p class="text-xl font-bold">128</p>
        <p class="text-gray-500 text-sm">تسجيلات</p>
      </div>
      <div>
        <p class="text-xl font-bold">4.9</p>
        <p class="text-gray-500 text-sm">تقييم</p>
      </div>
    </div>

    <!-- ✅ التبويبات -->
    <div class="mt-8 flex justify-center gap-6 border-b border-gray-300 pb-2">
      <a href="#" class="text-gray-500 hover:text-blue-600">Courses</a>
      
    </div>
  </div>
  <!-- ✅ عرض الكورسات -->
 <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-8 px-4 max-w-6xl mx-auto">
  <% if (courses && courses.length > 0) { %>
    <% courses.forEach(course => { %>
      <div class="bg-white rounded-xl shadow hover:shadow-md transition duration-300 overflow-hidden">
        <img src="/<%= course.image %>" alt="Course Image"
             class="w-full h-48 object-cover"
             onerror="this.onerror=null; this.src='/default-course.jpg';">
        <div class="p-4">
          <h2 class="text-lg font-bold text-gray-800 mb-1"><%= course.name %></h2>
          <p class="text-gray-600 text-sm mb-1"><%= course.description %></p>
          <p class="text-gray-500 text-xs">التصنيف: <%= course.category %> | المدة: <%= course.duration %></p>
          <a href="/course/<%= course._id %>" class="mt-3 inline-block text-white bg-primary px-4 py-2 rounded hover:bg-blue-700 transition">
            عرض الكورس
          </a>
        </div>
      </div>
    <% }) %>
  <% } else { %>
    <p class="text-gray-500 text-center col-span-3">لا توجد كورسات لعرضها.</p>
  <% } %>
</div>


</body>
</html>
